let setData=(a,b)=>new Promise((c,d)=>chrome.runtime.sendMessage(a,{type:"SET_DATA",storage_data:b},a=>a.success?c():d())),getData=a=>new Promise((b,c)=>chrome.runtime.sendMessage(a,{type:"GET_DATA"},a=>a.success?b(a.storage_data):c())),app=new Vue({el:"#app",data:{langConfig:{},langs:[],options:{speed:0,analytics:!0},accentPressId:"nfcdcdoegfnidkeldipgmhbabmndlhbf",detected:!1},watch:{langs:{handler:()=>app.detected?setData(app.accentPressId,{langs:app.langs,options:app.options}):null,deep:!0},options:{handler:()=>app.detected?setData(app.accentPressId,{langs:app.langs,options:app.options}):null,deep:!0}},methods:{reset:()=>{chrome.runtime.sendMessage(app.accentPressId,{type:"RESET_DATA"},async a=>{if(a.success){let a=await fetch("https://accentpress.pandapip1.com/config/defaults.json").then(a=>a.json());app.langs=a.langs,app.options=a.options,setData(app.accentPressId,{langs:app.langs,options:app.options})}})}}});(async()=>{app.langConfig=await fetch("https://accentpress.pandapip1.com/config/languages.json").then(a=>a.json()),(async()=>{let a=await fetch("https://accentpress.pandapip1.com/config/defaults.json").then(a=>a.json());app.langs.length||(app.langs=a.langs),app.options.speed||(app.options=a.options)})(),(async()=>{try{let a=await getData(app.accentPressId);app.detected=!0,a&&a.langs&&(app.langs=a.langs),a&&a.options&&a.options.speed&&(app.options=a.options.speed)}catch{}})()})();